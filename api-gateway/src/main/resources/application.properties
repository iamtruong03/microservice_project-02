server.port=8080
spring.application.name=api-gateway

# Eureka Configuration
# eureka.client.service-url.defaultZone=http://localhost:8761/eureka
# eureka.instance.hostname=localhost
# eureka.client.register-with-eureka=true
# eureka.client.fetch-registry=true

# Gateway Configuration
spring.cloud.gateway.default-filters[0]=DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials
spring.cloud.gateway.routes[0].id=auth-service
spring.cloud.gateway.routes[0].uri=lb://auth-service
spring.cloud.gateway.routes[0].predicates[0]=Path=/auth/**
spring.cloud.gateway.routes[0].predicates[1]=Path=/oauth2/**
spring.cloud.gateway.routes[0].filters[0]=StripPrefix=0

spring.cloud.gateway.routes[1].id=order-service
spring.cloud.gateway.routes[1].uri=lb://order-service
spring.cloud.gateway.routes[1].predicates[0]=Path=/orders/**
spring.cloud.gateway.routes[1].filters[0]=JwtFilter
spring.cloud.gateway.routes[1].filters[1]=StripPrefix=0

spring.cloud.gateway.routes[2].id=user-service
spring.cloud.gateway.routes[2].uri=lb://user-service
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/users/**
spring.cloud.gateway.routes[2].filters[0]=JwtFilter
spring.cloud.gateway.routes[2].filters[1]=StripPrefix=0

spring.cloud.gateway.routes[3].id=inventory-service
spring.cloud.gateway.routes[3].uri=lb://inventory-service
spring.cloud.gateway.routes[3].predicates[0]=Path=/inventory/**
spring.cloud.gateway.routes[3].filters[0]=JwtFilter
spring.cloud.gateway.routes[3].filters[1]=StripPrefix=0
spring.web.cors.allowed-origins=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH,HEAD
spring.web.cors.allowed-headers=*,Authorization,Content-Type
spring.web.cors.exposed-headers=Authorization,Content-Disposition
spring.web.cors.allow-credentials=true
spring.web.cors.max-age=3600

# JWT Configuration
app.jwtSecret=9mVL3xK8pQ2wE5rT7yU1oI4aS6dF0gH3jK5lM7nO9pQ1wE3rT5yU7
app.jwtExpirationMs=86400000

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.health.livenessState.enabled=true
management.health.readinessState.enabled=true

# Logging Configuration
logging.level.org.springframework.cloud.gateway=INFO
logging.level.org.springframework.security=INFO
logging.level.com.example=INFO
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# Server Configuration
server.compression.enabled=true
server.compression.min-response-size=1024
server.error.include-message=always
server.error.include-binding-errors=always